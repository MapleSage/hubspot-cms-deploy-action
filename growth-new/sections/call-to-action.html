<!--
  templateType: section
  label: Call to action
  isAvailableForNewContent: true
  screenshotPath: ../images/section-previews/call-to-action.png
  description: "Full size background color section separated in two columns. Left columns has title and text, and right column has a button."
-->
{% set template_translations = load_translations('../templates/_locales', html_lang, 'en') %}
{% set anchor_tag = '<a id="{{ context.anchor_id }}" data-hs-anchor="true"></a>' %}

{% dnd_section
  background_color={{ context.background_color }},
  vertical_alignment="MIDDLE"
%}
  {% dnd_module
    path="@hubspot/rich_text"
    width=8
  %}
    {% module_attribute "html" %}
      {{ anchor_tag if context.anchor_id }}
      <h2>{{ context.heading or template_translations.section_call_to_action_heading.message }}</h2>
      <p>{{ context.content or template_translations.placeholder_content_two.message }}</p>
    {% end_module_attribute %}
  {% end_dnd_module %}
  {% dnd_module
    path="../modules/button",
    button_text={{ context.button.text or template_translations.section_call_to_action_button_text.message }},
    button_link={
      "url": {
        "href": context.button.href or ""
      }
    },
    styles={
      "alignment": {
        "alignment": {
          "horizontal_align": "RIGHT"
        }
      }
    },
    offset=8,
    width=4
  %}
  {% end_dnd_module %}
{% end_dnd_section %}
